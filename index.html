<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Swiss Ephemeris Demo üöÄ</title>
</head>
<body>
  <h1>Swiss Ephemeris Demo üöÄ</h1>
  <pre id="output">Loading...</pre>

  <!-- Swiss Ephemeris load -->
  <script src="swe/swisseph.js"></script>
  <script>
    // Ensure Swiss Ephemeris runs only after fully ready
    window.Module = {
      onRuntimeInitialized: function () {
        const swe = Module;
        const out = document.getElementById("output");

        try {
          // Example Julian Date (J2000 epoch)
          const jd = 2451545.0;
          const iflag = swe.SEFLG_SWIEPH;
          let xx = new Float64Array(6); // positions
          let serr = "";

          // Call Swiss Ephemeris
          const result = swe.swe_calc_ut(jd, swe.SE_SUN, iflag, xx, serr);

          out.textContent =
            "Julian Date: " + jd + "\n" +
            "Result Code: " + result + "\n" +
            "Sun Longitude: " + xx[0] + "¬∞\n" +
            "Sun Latitude: " + xx[1] + "¬∞\n" +
            "Distance (AU): " + xx[2] + "\n" +
            "Error: " + serr;
        } catch (err) {
          out.textContent = "‚ö†Ô∏è Error: " + err;
        }
      }
    };
  </script>
</body>
</html>
